<!DOCTYPE html>
<html>

<head>
    <style>
        @media only screen and (max-width: 750px) {

            #playAgain,
            #revealAnswer {
                display: flex;
                float: right;
                flex-direction: column;
            }
        }

        #box {
            border: 5px groove blue;
            border-radius: 5%;
            padding: 10px;
            padding-top: 0.1px;
            margin: 1% 0.5%;
            background-color: lightblue;
            max-width: 550px;
        }

        .range {
            display: inline-block;
        }

        .input {
            max-width: 100px
        }
    </style>
</head>

<body>

    <div id="box">
        <h4 id="header">Guess a number between 1 and 10000</h4>

        <input id="guess" class="input" value="" />

        <button onclick="guess()" class="floatRight" id="guessButton">Guess the Number</button>
        <button onclick="playAgain()" id="playAgain">Pick another Number</button>
        <button onclick="revealAnswer()" id="revealAnswer">Reveal Answer</button>

        <p id="afterGuess"></p>
        <p id="numberBetween"></p>
        <p id="guesses"></p>

        <br><span>Largest Number<br></span>
        <input id="highest" class="range input" value="10000" />
        <button onclick="setHighest()">Click to set</button>

    </div>

    <script>
        var largest = 10000;
        var smallest = 1;
        var largerThan = smallest;
        var smallerThan = largest;
        var guesses = [];
        var number = getRndInteger(smallest, largest);
        var guessedRight = false;
        var validNumber = true;
        var tries = 0;

        document.getElementById("header").innerHTML =
            "Guess a number between " + smallest + " and " + largest;

        function guess() {
            var yourGuess = document.getElementById("guess").value;
            guessedRight = false;

            document.getElementById("guess").value = "";

            if (guesses.length == 0) {
                tries = "1 try"
            } else {
                tries = (guesses.length + 1) + " tries"
            }

            if (yourGuess < smallest || yourGuess > largest) {
                document.getElementById("afterGuess").innerHTML =
                    "Please guess between " + smallest + " and " + largest;
                validNumber = false;
            } else if (yourGuess < number) {
                document.getElementById("afterGuess").innerHTML = yourGuess + " is too small";
                largerThan = yourGuess;
            } else if (yourGuess > number) {
                document.getElementById("afterGuess").innerHTML = yourGuess + " is too large";
                smallerThan = yourGuess;
            } else if (yourGuess == number) {
                document.getElementById("afterGuess").innerHTML =
                    "You guessed the number in " + tries + "!";
                document.getElementById("playAgain").innerHTML = "Play Again";
                guessedRight = true;
            }


            document.getElementById("numberBetween").innerHTML =
                "The answer is between " + largerThan + " and " + smallerThan + ".";

            if (validNumber == true) {
                guesses.push(yourGuess)
                document.getElementById("guesses").innerHTML = "Your guesses: " + guesses.join(", ");
            }
            validNumber = true;
        }

        function getRndInteger(min, max) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }

        function revealAnswer() {
            if (guessedRight == false) {
                document.getElementById("afterGuess").innerHTML = "The answer is " + number;
            }
        }

        function playAgain() {
            guesses = []
            guessedRight == false;
            document.getElementById("guesses").innerHTML = "Your guesses: " + guesses.join(", ");
            document.getElementById("playAgain").innerHTML = "Pick another Number";
            document.getElementById("afterGuess").innerHTML = "New number chosen";
            largerThan = smallest;
            smallerThan = largest;
            document.getElementById("numberBetween").innerHTML = "";
            document.getElementById("guess").value = "";
            if (guessedRight == false) {
                document.getElementById("afterGuess").innerHTML =
                    "New number chosen. The number was " + number;
            }
            number = getRndInteger(smallest, largest);
        }

        function setHighest() {
            largest = highest.value;
            document.getElementById("header").innerHTML =
                "Guess a number between " + smallest + " and " + largest;
            largerThan = smallest;
            smallerThan = largest;
            number = getRndInteger(smallest, largest);
            guessedRight = true;
            playAgain();
            guessedRight = false;
        }
    </script>

</body>

</html>