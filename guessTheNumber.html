<!DOCTYPE html>
<html>

<head>
    <style>
        @media only screen and (max-width: 750px) {}

        #playAgain,
        #revealAnswer {
            display: flex;
            float: right;
            flex-direction: column;
        }

        #box {
            border: 5px groove blue;
            border-radius: 10px;
            padding: 10px;
            padding-top: 0.1px;
            margin: 0.5%;
            background-color: lightblue;
            max-width: 550px;
            position: fixed;
            width: 100%;

        }

        #expandable {
            width: 550px;
            height: 30px;
        }

        #expanded {}

        .adjustSizeInput {
            display: inline-block;
        }

        .adjustSize {}

        input {
            max-width: 100px
        }

        button {
            display: inline;
            border: 1px solid lightskyblue;
            background-color: lightcyan;
            border-radius: 3px;
        }

        span {
            font-size: 15px;
        }
    </style>
</head>

<body>

    <div id="box">
        <h4 id="header">Guess a number between 1 and 10000</h4>

        <input type="number" autocomplete="off" id="guess" value="" />

        <button onclick="guess()" class="floatRight" id="guessButton">Guess the Number</button>

        <button onclick="playAgain()" id="playAgain">Pick another Number</button>
        <button onclick="revealAnswer()" id="revealAnswer">Reveal Answer</button>

        <p id="ln1" class="answerLines"></p>
        <p id="ln2" class="answerLines"></p>
        <p id="ln3" class="answerLines"></p>


        <div id="expanded">
            <br><button onclick="expand()" id="expandable">expand</button><br>
            <span class="adjustSize">Smallest Number</span>
            <span class="adjustSize">Largest Number<br></span>
            <input type="number" autocomplete="off" id="newSmallestNumber" class="adjustSizeInput adjustSize"
                value="1" />
            <input type="number" autocomplete="off" id="newLargestNumber" class="adjustSizeInput adjustSize"
                value="10000" />
            <button onclick="setRange()">Click to set</button>
        </div>

    </div>



    <script>
        var largest = 10000; //does not change when guessing
        var smallest = 1;
        var smallestPossible = smallest; //changes when new ln3 given
        var largestPossible = largest;
        var guesses = [];
        var number = getRndInteger(smallest, largest);
        var guessedRight = false;
        var validNumber = true;
        var tries = 0;

        document.getElementById("header").innerHTML =
            "Guess a number between " + smallest + " and " + largest;

        document.getElementById("guess").addEventListener("keyup", function (event) {
            if (event.keyCode === 13) {
                event.preventDefault();
                document.getElementById("guessButton").click();
            }
        });

        function guess() { //when guess button clicked
            var yourGuess = document.getElementById("guess").value;
            guessedRight = false;

            document.getElementById("guess").value = "";

            if (guesses.length == 0) {
                tries = "1 try"
            } else {
                tries = (guesses.length + 1) + " tries"
            }

            if (yourGuess < Number(smallestPossible) || yourGuess > Number(largestPossible)) {
                document.getElementById("ln1").innerHTML =
                    "Please guess between " + smallestPossible + " and " + largestPossible;
                validNumber = false;
            } else if (yourGuess < number) {
                document.getElementById("ln1").innerHTML = yourGuess + " is too small";
                smallestPossible = yourGuess;
                ln2()
            } else if (yourGuess > number) {
                document.getElementById("ln1").innerHTML = yourGuess + " is too large";
                largestPossible = yourGuess;
                ln2()
            } else if (yourGuess == number) {
                document.getElementById("ln1").innerHTML =
                    "The answer is " + number + "!"
                document.getElementById("ln2").innerHTML = "You guessed the number in " + tries + "!";
                document.getElementById("playAgain").innerHTML = "Play Again";
                guessedRight = true;
            }

            if (validNumber == true) { //adds the guess to the guesses array
                guesses.push(yourGuess)
                document.getElementById("ln3").innerHTML =
                    "Your guesses: " + guesses.join(", ");
            }
            validNumber = true;

            function ln2() { //says what the answer is between
                document.getElementById("ln2").innerHTML =
                    "The answer is between " + smallestPossible + " and " + largestPossible + ".";
            }

        }

        function getRndInteger(min, max) {
            return Math.floor(Math.random() * (Number(max) - Number(min) + 1)) + Number(min);
        }

        function revealAnswer() { //when reveal answer button is pressed
            if (guessedRight == false) {
                document.getElementById("ln1").innerHTML = "The answer is " + number;
            }
        }

        function playAgain() { //when pick another number or play again is pressed
            guesses = [];
            guessedRight == false;
            document.getElementById("playAgain").innerHTML = "Pick another Number";
            document.getElementById("ln1").innerHTML = "New number chosen";
            smallestPossible = smallest;
            largestPossible = largest;
            document.getElementById("ln2").innerHTML = "";
            document.getElementById("guess").value = "";
            if (guessedRight == false) {
                document.getElementById("ln1").innerHTML =
                    "New number chosen. The number was " + number + ".";
            }
            number = getRndInteger(smallest, largest);
        }

        function setRange() { //after new smallest/largest number is set
            var newSmallestNum = document.getElementById("newSmallestNumber").value;
            var newLargestNum = document.getElementById("newLargestNumber").value;
            if (newSmallestNum != smallest || newLargestNum != largest) {
                smallest = newSmallestNum;
                largest = newLargestNum;
                document.getElementById("header").innerHTML =
                    "Guess a number between " + smallest + " and " + largest;
                smallestPossible = smallest;
                largestPossible = largest;
                number = getRndInteger(smallest, largest);
                guessedRight = true;
                playAgain();
                guessedRight = false;
            }
        }

    </script>

</body>

</html>